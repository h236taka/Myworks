        -:    0:Source:menu.c
        -:    1:#include <stdio.h>
        -:    2:#include <string.h>
        -:    3:#include <unistd.h>
        -:    4:#include <stdlib.h>
        -:    5:#include <time.h>
        -:    6:#include <sys/stat.h>
        -:    7:#include <conio.h>
        -:    8:#include <math.h>
        -:    9:#include <wchar.h>
        -:   10:#include "rpg.h"
        -:   11:
    #####:   12:void menu_hp_graphycal_display(Player *****st, Player *****st2, Player *****st3){
    #####:   13:  printf(" ------------");
    #####:   14:  printf("           ------------");
    #####:   15:  printf("              ------------\n");
        -:   16:
    #####:   17:  if ( (****st) -> hp == (****st) -> maxhp ){
    #####:   18:    printf(" |//////////|");
        -:   19:  }
    #####:   20:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.9 ){
    #####:   21:    printf(" |/////////||");
        -:   22:  }
    #####:   23:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.8 ){
    #####:   24:    printf(" |////////| |");
        -:   25:  }
    #####:   26:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.7 ){
    #####:   27:    printf(" |///////|  |");
        -:   28:  }
    #####:   29:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.6 ){
    #####:   30:    printf(" |//////|   |");
        -:   31:  }
    #####:   32:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.5 ){
    #####:   33:    printf(" |/////|    |");
        -:   34:  }
    #####:   35:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.4 ){
    #####:   36:    printf(" |////|     |");
        -:   37:  }
    #####:   38:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.3 ){
    #####:   39:    printf(" |///|      |");
        -:   40:  }
    #####:   41:  else if ( (****st) -> hp >= (****st) -> maxhp * 0.2 ){
    #####:   42:    printf(" |//|       |");
        -:   43:  }
    #####:   44:  else if ( (****st) -> hp > 0 ){
    #####:   45:    printf(" |/|        |");
        -:   46:  }
    #####:   47:  else if ( (****st) -> hp == 0 ){
    #####:   48:    printf(" ||         |");
        -:   49:  }
        -:   50:
    #####:   51:  if ( (****st2) -> hp == (****st2) -> maxhp ){
    #####:   52:    printf("           |//////////|");
        -:   53:  }
    #####:   54:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.9 ){
    #####:   55:    printf("           |/////////||");
        -:   56:  }
    #####:   57:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.8 ){
    #####:   58:    printf("           |////////| |");
        -:   59:  }
    #####:   60:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.7 ){
    #####:   61:    printf("           |///////|  |");
        -:   62:  }
    #####:   63:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.6 ){
    #####:   64:    printf("           |//////|   |");
        -:   65:  }
    #####:   66:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.5 ){
    #####:   67:    printf("           |/////|    |");
        -:   68:  }
    #####:   69:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.4 ){
    #####:   70:    printf("           |////|     |");
        -:   71:  }
    #####:   72:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.3 ){
    #####:   73:    printf("           |///|      |");
        -:   74:  }
    #####:   75:  else if ( (****st2) -> hp >= (****st2) -> maxhp * 0.2 ){
    #####:   76:    printf("           |//|       |");
        -:   77:  }
    #####:   78:  else if ( (****st2) -> hp > 0 ){
    #####:   79:    printf("           |/|        |");
        -:   80:  }
    #####:   81:  else if ( (****st2) -> hp == 0 ){
    #####:   82:    printf("           ||         |");
        -:   83:  }
        -:   84:
    #####:   85:  if ( (****st3) -> hp == (****st3) -> maxhp ){
    #####:   86:    printf("              |//////////|\n");
        -:   87:  }
    #####:   88:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.9 ){
    #####:   89:    printf("              |/////////||\n");
        -:   90:  }
    #####:   91:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.8 ){
    #####:   92:    printf("              |////////| |\n");
        -:   93:  }
    #####:   94:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.7 ){
    #####:   95:    printf("              |///////|  |\n");
        -:   96:  }
    #####:   97:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.6 ){
    #####:   98:    printf("              |//////|   |\n");
        -:   99:  }
    #####:  100:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.5 ){
    #####:  101:    printf("              |/////|    |\n");
        -:  102:  }
    #####:  103:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.4 ){
    #####:  104:    printf("              |////|     |\n");
        -:  105:  }
    #####:  106:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.3 ){
    #####:  107:    printf("              |///|      |\n");
        -:  108:  }
    #####:  109:  else if ( (****st3) -> hp >= (****st3) -> maxhp * 0.2 ){
    #####:  110:    printf("              |//|       |\n");
        -:  111:  }
    #####:  112:  else if ( (****st3) -> hp > 0 ){
    #####:  113:    printf("              |/|        |\n");
        -:  114:  }
    #####:  115:  else if ( (****st3) -> hp == 0 ){
    #####:  116:    printf("              ||         |\n");
        -:  117:  }
        -:  118:
    #####:  119:  printf(" ------------");
    #####:  120:  printf("           ------------");
    #####:  121:  printf("              ------------\n");
        -:  122:
    #####:  123:}
        -:  124:
    #####:  125:void menu_mp_graphycal_display(Player *****st, Player *****st2, Player *****st3){
        -:  126:
    #####:  127:  printf(" ------------");
    #####:  128:  printf("           ------------");
    #####:  129:  printf("              ------------\n");
        -:  130:
    #####:  131:  if ( (****st) -> mp == (****st) -> maxmp ){
    #####:  132:    printf(" |//////////|");
        -:  133:  }
    #####:  134:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.9 ){
    #####:  135:    printf(" |/////////||");
        -:  136:  }
    #####:  137:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.8 ){
    #####:  138:    printf(" |////////| |");
        -:  139:  }
    #####:  140:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.7 ){
    #####:  141:    printf(" |///////|  |");
        -:  142:  }
    #####:  143:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.6 ){
    #####:  144:    printf(" |//////|   |");
        -:  145:  }
    #####:  146:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.5 ){
    #####:  147:    printf(" |/////|    |");
        -:  148:  }
    #####:  149:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.4 ){
    #####:  150:    printf(" |////|     |");
        -:  151:  }
    #####:  152:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.3 ){
    #####:  153:    printf(" |///|      |");
        -:  154:  }
    #####:  155:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.2 ){
    #####:  156:    printf(" |//|       |");
        -:  157:  }
    #####:  158:  else if ( (****st) -> mp >= (****st) -> maxmp * 0.1 ){
    #####:  159:    printf(" |/|        |");
        -:  160:  }
        -:  161:  else{
        -:  162:      //死亡時はHPゲージ表示なし
        -:  163:  }
        -:  164:
    #####:  165:  if ( (****st2) -> mp == (****st2) -> maxmp ){
    #####:  166:    printf("           |//////////|");
        -:  167:  }
    #####:  168:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.9 ){
    #####:  169:    printf("           |/////////||");
        -:  170:  }
    #####:  171:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.8 ){
    #####:  172:    printf("           |////////| |");
        -:  173:  }
    #####:  174:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.7 ){
    #####:  175:    printf("           |///////|  |");
        -:  176:  }
    #####:  177:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.6 ){
    #####:  178:    printf("           |//////|   |");
        -:  179:  }
    #####:  180:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.5 ){
    #####:  181:    printf("           |/////|    |");
        -:  182:  }
    #####:  183:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.4 ){
    #####:  184:    printf("           |////|     |");
        -:  185:  }
    #####:  186:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.3 ){
    #####:  187:    printf("           |///|      |");
        -:  188:  }
    #####:  189:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.2 ){
    #####:  190:    printf("           |//|       |");
        -:  191:  }
    #####:  192:  else if ( (****st2) -> mp >= (****st2) -> maxmp * 0.1 ){
    #####:  193:    printf("           |/|        |");
        -:  194:  }
        -:  195:  else{
        -:  196:      //死亡時はHPゲージ表示なし
        -:  197:  }
        -:  198:
    #####:  199:  if ( (****st3) -> mp == (****st3) -> maxmp ){
    #####:  200:    printf("              |//////////|\n");
        -:  201:  }
    #####:  202:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.9 ){
    #####:  203:    printf("              |/////////||\n");
        -:  204:  }
    #####:  205:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.8 ){
    #####:  206:    printf("              |////////| |\n");
        -:  207:  }
    #####:  208:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.7 ){
    #####:  209:    printf("              |///////|  |\n");
        -:  210:  }
    #####:  211:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.6 ){
    #####:  212:    printf("              |//////|   |\n");
        -:  213:  }
    #####:  214:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.5 ){
    #####:  215:    printf("              |/////|    |\n");
        -:  216:  }
    #####:  217:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.4 ){
    #####:  218:    printf("              |////|     |\n");
        -:  219:  }
    #####:  220:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.3 ){
    #####:  221:    printf("              |///|      |\n");
        -:  222:  }
    #####:  223:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.2 ){
    #####:  224:    printf("              |//|       |\n");
        -:  225:  }
    #####:  226:  else if ( (****st3) -> mp >= (****st3) -> maxmp * 0.1 ){
    #####:  227:    printf("              |/|        |\n");
        -:  228:  }
        -:  229:  else{
        -:  230:      //死亡時はHPゲージ表示なし
        -:  231:  }
        -:  232:
    #####:  233:  printf(" ------------");
    #####:  234:  printf("           ------------");
    #####:  235:  printf("              ------------\n");
    #####:  236:}
        -:  237:
        -:  238://Playerの状態を表示
    #####:  239:void menu_display_condition(Player *****st, int battle_display_condition_count){
        -:  240:
    #####:  241:  if ( battle_display_condition_count == 0 ){
    #####:  242:    if ( (****st) -> badstatus == GOOD ){
    #####:  243:      printf(" STATUS:GOOD");
        -:  244:    }
    #####:  245:    else if ( (****st) -> badstatus == DEAD ){
    #####:  246:      printf(" STATUS:DEAD");
        -:  247:    }
    #####:  248:    else if ( (****st) -> badstatus == POISON ){
    #####:  249:      printf(" STATUS:POISON");
        -:  250:    }
    #####:  251:    else if ( (****st) -> badstatus == PALYZE ){
    #####:  252:      printf(" STATUS:PALYZE");
        -:  253:    }
    #####:  254:    else if ( (****st) -> badstatus == CHARM ){
    #####:  255:      printf(" STATUS:CHARM");
        -:  256:    }
    #####:  257:    else if ( (****st) -> badstatus == CLOSE ){
    #####:  258:      printf(" STATUS:CLOSE");
        -:  259:    }
    #####:  260:    else if ( (****st) -> badstatus == STONE ){
    #####:  261:      printf(" STATUS:STONE");
        -:  262:    }
    #####:  263:    else if ( (****st) -> badstatus == PANIC ){
    #####:  264:      printf(" STATUS:PANIC");
        -:  265:    }
    #####:  266:    else if ( (****st) -> badstatus == SLEEP ){
    #####:  267:      printf(" STATUS:SLEEP");
        -:  268:    }
    #####:  269:    else if ( (****st) -> badstatus == CURSE ){
    #####:  270:      printf(" STATUS:CURSE");
        -:  271:    }
        -:  272:  }
    #####:  273:  else if ( battle_display_condition_count == 1 ){
    #####:  274:    if ( (****st) -> badstatus == GOOD ){
    #####:  275:      printf("           STATUS:GOOD");
        -:  276:    }
    #####:  277:    else if ( (****st) -> badstatus == DEAD ){
    #####:  278:      printf("           STATUS:DEAD");
        -:  279:    }
    #####:  280:    else if ( (****st) -> badstatus == POISON ){
    #####:  281:      printf("           STATUS:POISON");
        -:  282:    }
    #####:  283:    else if ( (****st) -> badstatus == PALYZE ){
    #####:  284:      printf("           STATUS:PALYZE");
        -:  285:    }
    #####:  286:    else if ( (****st) -> badstatus == CHARM ){
    #####:  287:      printf("           STATUS:CHARM");
        -:  288:    }
    #####:  289:    else if ( (****st) -> badstatus == CLOSE ){
    #####:  290:      printf("           STATUS:CLOSE");
        -:  291:    }
    #####:  292:    else if ( (****st) -> badstatus == STONE ){
    #####:  293:      printf("           STATUS:STONE");
        -:  294:    }
    #####:  295:    else if ( (****st) -> badstatus == PANIC ){
    #####:  296:      printf("           STATUS:PANIC");
        -:  297:    }
    #####:  298:    else if ( (****st) -> badstatus == SLEEP ){
    #####:  299:      printf("           STATUS:SLEEP");
        -:  300:    }
    #####:  301:    else if ( (****st) -> badstatus == CURSE ){
    #####:  302:      printf("           STATUS:CURSE");
        -:  303:    }
        -:  304:  }
        -:  305:  else{
    #####:  306:    if ( (****st) -> badstatus == GOOD ){
    #####:  307:      printf("               STATUS:GOOD");
        -:  308:    }
    #####:  309:    else if ( (****st) -> badstatus == DEAD ){
    #####:  310:      printf("               STATUS:DEAD");
        -:  311:    }
    #####:  312:    else if ( (****st) -> badstatus == POISON ){
    #####:  313:      printf("               STATUS:POISON");
        -:  314:    }
    #####:  315:    else if ( (****st) -> badstatus == PALYZE ){
    #####:  316:      printf("               STATUS:PALYZE");
        -:  317:    }
    #####:  318:    else if ( (****st) -> badstatus == CHARM ){
    #####:  319:      printf("               STATUS:CHARM");
        -:  320:    }
    #####:  321:    else if ( (****st) -> badstatus == CLOSE ){
    #####:  322:      printf("               STATUS:CLOSE");
        -:  323:    }
    #####:  324:    else if ( (****st) -> badstatus == STONE ){
    #####:  325:      printf("               STATUS:STONE");
        -:  326:    }
    #####:  327:    else if ( (****st) -> badstatus == PANIC ){
    #####:  328:      printf("               STATUS:PANIC");
        -:  329:    }
    #####:  330:    else if ( (****st) -> badstatus == SLEEP ){
    #####:  331:      printf("               STATUS:SLEEP");
        -:  332:    }
    #####:  333:    else if ( (****st) -> badstatus == CURSE ){
    #####:  334:      printf("               STATUS:CURSE");
        -:  335:    }
        -:  336:  }
    #####:  337:}
        -:  338:
    #####:  339:void menu_player_effective(Player *******st){
        -:  340:
    #####:  341:  if ( (******st) -> physical_attack == 200 ){
    #####:  342:    printf("物理弱点 ");
        -:  343:  }
    #####:  344:  else if ( (******st) -> physical_attack == 50 || (******st) -> physical_attack == 25 ){
    #####:  345:    printf("物理耐性 ");
        -:  346:  }
    #####:  347:  else if ( (******st) -> physical_attack == -1 ){
    #####:  348:    printf("物理無効 ");
        -:  349:  }
    #####:  350:  else if ( (******st) -> physical_attack == -2 ){
    #####:  351:    printf("物理吸収 ");
        -:  352:  }
    #####:  353:  else if ( (******st) -> physical_attack == -3 ){
    #####:  354:    printf("物理反射 ");
        -:  355:  }
        -:  356:
    #####:  357:  if ( (******st) -> gun_attack == 200 ){
    #####:  358:    printf("銃撃弱点 ");
        -:  359:  }
    #####:  360:  else if ( (******st) -> gun_attack == 50 || (******st) -> gun_attack == 25 ){
    #####:  361:    printf("銃撃耐性 ");
        -:  362:  }
    #####:  363:  else if ( (******st) -> gun_attack == -1 ){
    #####:  364:    printf("銃撃無効 ");
        -:  365:  }
    #####:  366:  else if ( (******st) -> gun_attack == -2 ){
    #####:  367:    printf("銃撃吸収 ");
        -:  368:  }
    #####:  369:  else if ( (******st) -> gun_attack == -3 ){
    #####:  370:    printf("銃撃反射 ");
        -:  371:  }
        -:  372:
    #####:  373:  if ( (******st) -> fire == 200 ){
    #####:  374:    printf("火炎弱点 ");
        -:  375:  }
    #####:  376:  else if ( (******st) -> fire == 50 || (******st) -> fire == 25 ){
    #####:  377:    printf("火炎耐性 ");
        -:  378:  }
    #####:  379:  else if ( (******st) -> fire == -1 ){
    #####:  380:    printf("火炎無効 ");
        -:  381:  }
    #####:  382:  else if ( (******st) -> fire == -2 ){
    #####:  383:    printf("火炎吸収 ");
        -:  384:  }
    #####:  385:  else if ( (******st) -> fire == -3 ){
    #####:  386:    printf("火炎反射 ");
        -:  387:  }
        -:  388:
    #####:  389:  if ( (******st) -> ice == 200 ){
    #####:  390:    printf("氷結弱点 ");
        -:  391:  }
    #####:  392:  else if ( (******st) -> ice == 50 || (******st) -> ice == 25 ){
    #####:  393:    printf("氷結耐性 ");
        -:  394:  }
    #####:  395:  else if ( (******st) -> ice == -1 ){
    #####:  396:    printf("氷結無効 ");
        -:  397:  }
    #####:  398:  else if ( (******st) -> ice == -2 ){
    #####:  399:    printf("氷結吸収 ");
        -:  400:  }
    #####:  401:  else if ( (******st) -> ice == -3 ){
    #####:  402:    printf("氷結反射 ");
        -:  403:  }
        -:  404:
    #####:  405:  if ( (******st) -> elec == 200 ){
    #####:  406:    printf("電撃弱点 ");
        -:  407:  }
    #####:  408:  else if ( (******st) -> elec == 50 || (******st) -> elec == 25 ){
    #####:  409:    printf("電撃耐性 ");
        -:  410:  }
    #####:  411:  else if ( (******st) -> elec == -1 ){
    #####:  412:    printf("電撃無効 ");
        -:  413:  }
    #####:  414:  else if ( (******st) -> elec == -2 ){
    #####:  415:    printf("電撃吸収 ");
        -:  416:  }
    #####:  417:  else if ( (******st) -> elec == -3 ){
    #####:  418:    printf("電撃反射 ");
        -:  419:  }
        -:  420:
    #####:  421:  if ( (******st) -> wave == 200 ){
    #####:  422:    printf("衝撃弱点 ");
        -:  423:  }
    #####:  424:  else if ( (******st) -> wave == 50 || (******st) -> wave == 25 ){
    #####:  425:    printf("衝撃耐性 ");
        -:  426:  }
    #####:  427:  else if ( (******st) -> wave == -1 ){
    #####:  428:    printf("衝撃無効 ");
        -:  429:  }
    #####:  430:  else if ( (******st) -> wave == -2 ){
    #####:  431:    printf("衝撃吸収 ");
        -:  432:  }
    #####:  433:  else if ( (******st) -> wave == -3 ){
    #####:  434:    printf("衝撃反射 ");
        -:  435:  }
        -:  436:
    #####:  437:  if ( (******st) -> almighty == 50 || (******st) -> almighty == 25 ){
    #####:  438:    printf("万能耐性 ");
        -:  439:  }
        -:  440:
    #####:  441:  if ( (******st) -> death == 200 ){
    #####:  442:    printf("呪殺弱点 ");
        -:  443:  }
    #####:  444:  else if ( (******st) -> death == 50 || (******st) -> death == 25 ){
    #####:  445:    printf("呪殺耐性 ");
        -:  446:  }
    #####:  447:  else if ( (******st) -> death == -1 ){
    #####:  448:    printf("呪殺無効 ");
        -:  449:  }
    #####:  450:  else if ( (******st) -> death == -2 ){
    #####:  451:    printf("呪殺吸収 ");
        -:  452:  }
    #####:  453:  else if ( (******st) -> death == -3 ){
    #####:  454:    printf("呪殺反射 ");
        -:  455:  }
        -:  456:
    #####:  457:  if ( (******st) -> expel == 200 ){
    #####:  458:    printf("破魔弱点 ");
        -:  459:  }
    #####:  460:  else if ( (******st) -> expel == 50 || (******st) -> expel == 25 ){
    #####:  461:    printf("破魔耐性 ");
        -:  462:  }
    #####:  463:  else if ( (******st) -> expel == -1 ){
    #####:  464:    printf("破魔無効 ");
        -:  465:  }
    #####:  466:  else if ( (******st) -> expel == -2 ){
    #####:  467:    printf("破魔吸収 ");
        -:  468:  }
    #####:  469:  else if ( (******st) -> expel == -3 ){
    #####:  470:    printf("破魔反射 ");
        -:  471:  }
        -:  472:
    #####:  473:  if ( (******st) -> poison == 200 ){
    #####:  474:    printf("毒弱点 ");
        -:  475:  }
    #####:  476:  else if ( (******st) -> poison == 50 || (******st) -> poison == 25 ){
    #####:  477:    printf("毒耐性 ");
        -:  478:  }
    #####:  479:  else if ( (******st) -> poison == -1 ){
    #####:  480:    printf("毒無効 ");
        -:  481:  }
    #####:  482:  else if ( (******st) -> poison == -2 ){
    #####:  483:    printf("毒吸収 ");
        -:  484:  }
    #####:  485:  else if ( (******st) -> poison == -3 ){
    #####:  486:    printf("毒反射 ");
        -:  487:  }
        -:  488:
    #####:  489:  if ( (******st) -> palyze == 200 ){
    #####:  490:    printf("麻痺弱点 ");
        -:  491:  }
    #####:  492:  else if ( (******st) -> palyze == 50 || (******st) -> palyze == 25 ){
    #####:  493:    printf("麻痺耐性 ");
        -:  494:  }
    #####:  495:  else if ( (******st) -> palyze == -1 ){
    #####:  496:    printf("麻痺無効 ");
        -:  497:  }
    #####:  498:  else if ( (******st) -> palyze == -2 ){
    #####:  499:    printf("麻痺吸収 ");
        -:  500:  }
    #####:  501:  else if ( (******st) -> palyze == -3 ){
    #####:  502:    printf("麻痺反射 ");
        -:  503:  }
        -:  504:
    #####:  505:  if ( (******st) -> charm == 200 ){
    #####:  506:    printf("魅了弱点 ");
        -:  507:  }
    #####:  508:  else if ( (******st) -> charm == 50 || (******st) -> charm == 25 ){
    #####:  509:    printf("魅了耐性 ");
        -:  510:  }
    #####:  511:  else if ( (******st) -> charm == -1 ){
    #####:  512:    printf("魅了無効 ");
        -:  513:  }
    #####:  514:  else if ( (******st) -> charm == -2 ){
    #####:  515:    printf("魅了吸収 ");
        -:  516:  }
    #####:  517:  else if ( (******st) -> charm == -3 ){
    #####:  518:    printf("魅了反射 ");
        -:  519:  }
        -:  520:
    #####:  521:  if ( (******st) -> close == 200 ){
    #####:  522:    printf("魔封弱点 ");
        -:  523:  }
    #####:  524:  else if ( (******st) -> close == 50 || (******st) -> close == 25 ){
    #####:  525:    printf("魔封耐性 ");
        -:  526:  }
    #####:  527:  else if ( (******st) -> close == -1 ){
    #####:  528:    printf("魔封無効 ");
        -:  529:  }
    #####:  530:  else if ( (******st) -> close == -2 ){
    #####:  531:    printf("魔封吸収 ");
        -:  532:  }
    #####:  533:  else if ( (******st) -> close == -3 ){
    #####:  534:    printf("魔封反射 ");
        -:  535:  }
        -:  536:
    #####:  537:  if ( (******st) -> stone == 200 ){
    #####:  538:    printf("石化弱点 ");
        -:  539:  }
    #####:  540:  else if ( (******st) -> stone == 50 || (******st) -> stone == 25 ){
    #####:  541:    printf("石化耐性 ");
        -:  542:  }
    #####:  543:  else if ( (******st) -> stone == -1 ){
    #####:  544:    printf("石化無効 ");
        -:  545:  }
    #####:  546:  else if ( (******st) -> stone == -2 ){
    #####:  547:    printf("石化吸収 ");
        -:  548:  }
    #####:  549:  else if ( (******st) -> stone == -3 ){
    #####:  550:    printf("石化反射 ");
        -:  551:  }
        -:  552:
    #####:  553:  if ( (******st) -> panic == 200 ){
    #####:  554:    printf("混乱弱点 ");
        -:  555:  }
    #####:  556:  else if ( (******st) -> panic == 50 || (******st) -> panic == 25 ){
    #####:  557:    printf("混乱耐性 ");
        -:  558:  }
    #####:  559:  else if ( (******st) -> panic == -1 ){
    #####:  560:    printf("混乱無効 ");
        -:  561:  }
    #####:  562:  else if ( (******st) -> panic == -2 ){
    #####:  563:    printf("混乱吸収 ");
        -:  564:  }
    #####:  565:  else if ( (******st) -> panic == -3 ){
    #####:  566:    printf("混乱反射 ");
        -:  567:  }
        -:  568:
    #####:  569:  if ( (******st) -> sleep == 200 ){
    #####:  570:    printf("睡眠弱点 ");
        -:  571:  }
    #####:  572:  else if ( (******st) -> sleep == 50 || (******st) -> sleep == 25 ){
    #####:  573:    printf("睡眠耐性 ");
        -:  574:  }
    #####:  575:  else if ( (******st) -> sleep == -1 ){
    #####:  576:    printf("睡眠無効 ");
        -:  577:  }
    #####:  578:  else if ( (******st) -> sleep == -2 ){
    #####:  579:    printf("睡眠吸収 ");
        -:  580:  }
    #####:  581:  else if ( (******st) -> sleep == -3 ){
    #####:  582:    printf("睡眠反射 ");
        -:  583:  }
        -:  584:
    #####:  585:  if ( (******st) -> curse == 200 ){
    #####:  586:    printf("呪い弱点 ");
        -:  587:  }
    #####:  588:  else if ( (******st) -> curse == 50 || (******st) -> curse == 25 ){
    #####:  589:    printf("呪い耐性 ");
        -:  590:  }
    #####:  591:  else if ( (******st) -> curse == -1 ){
    #####:  592:    printf("呪い無効 ");
        -:  593:  }
    #####:  594:  else if ( (******st) -> curse == -2 ){
    #####:  595:    printf("呪い吸収 ");
        -:  596:  }
    #####:  597:  else if ( (******st) -> curse == -3 ){
    #####:  598:    printf("呪い反射 ");
        -:  599:  }
        -:  600:
    #####:  601:  printf("\n");
    #####:  602:}
        -:  603:
    #####:  604:void menu_player_status(Player ******st){
        -:  605:  int command;
        -:  606:
        -:  607:  do{
    #####:  608:    printf("<<<STATUS>>>\n");
    #####:  609:    printf("%s:LV:%d EXP:%d NEXT EXP:%d\n", (*****st) -> name, (*****st) -> lv, (*****st) -> sumexp, (*****st) -> nextexp);
    #####:  610:    printf("HP:%d/%d MP:%d/%d\n", (*****st) -> hp, (*****st) -> maxhp, (*****st) -> mp, (*****st) -> maxmp);
    #####:  611:    printf("力:%d\n", (*****st) -> atk);
    #####:  612:    printf("魔:%d\n", (*****st) -> magic);
    #####:  613:    printf("体:%d\n", (*****st) -> str);
    #####:  614:    printf("速:%d\n", (*****st) -> agi);
    #####:  615:    printf("運:%d\n", (*****st) -> luk);
        -:  616:
    #####:  617:    printf("\n");
    #####:  618:    menu_player_effective(&st);
        -:  619:
    #####:  620:    printf("\n");
    #####:  621:    printf("戻る場合はcを入力してください。\n");
    #####:  622:    command = _getch();
    #####:  623:    if ( command == '' ){
    #####:  624:      printf("強制終了\n");
    #####:  625:      exit(EXIT_FAILURE);
        -:  626:    }
    #####:  627:  } while ( command != 'c' );
    #####:  628:}
        -:  629:
    #####:  630:int menu_item_useselect(Player *******st, Player *******st2, Player *******st3, Items *******items){
        -:  631:  int item_target;
        -:  632:  int command;
        -:  633:
        -:  634:  do{
    #####:  635:    printf("使用する対象を選択してください(使用しない場合はcを入力)\n");
    #####:  636:    if ( (******st) -> badstatus == DEAD ){
        -:  637:      //nothing
        -:  638:    }
        -:  639:    else{
    #####:  640:      printf("1:%s ", (******st) -> name);
        -:  641:    }
        -:  642:
    #####:  643:    if ( (******st2) -> badstatus == DEAD ){
        -:  644:      //nothing
        -:  645:    }
        -:  646:    else{
    #####:  647:      printf("2:%s ", (******st2) -> name);
        -:  648:    }
        -:  649:
    #####:  650:    if ( (******st3) -> badstatus == DEAD ){
        -:  651:      //nothing
        -:  652:    }
        -:  653:    else{
    #####:  654:      printf("3:%s ", (******st3) -> name);
        -:  655:    }
    #####:  656:    printf("\n");
        -:  657:
    #####:  658:    command =  _getch();
    #####:  659:    if ( command == '1' ){
    #####:  660:      if ( (******st) -> badstatus == DEAD ){
    #####:  661:        command = 'e'; //error
        -:  662:      }
        -:  663:      else{
    #####:  664:        item_target = 1;
        -:  665:      }
        -:  666:    }
    #####:  667:    else if ( command == '2' ){
    #####:  668:      if ( (******st2) -> badstatus == DEAD ){
    #####:  669:        command = 'e'; //error
        -:  670:      }
        -:  671:      else{
    #####:  672:        item_target = 2;
        -:  673:      }
        -:  674:    }
    #####:  675:    else if ( command == '3' ){
    #####:  676:      if ( (******st3) -> badstatus == DEAD ){
    #####:  677:        command = 'e'; //error
        -:  678:      }
        -:  679:      else{
    #####:  680:        item_target = 3;
        -:  681:      }
        -:  682:    }
    #####:  683:    else if ( command == 'c' ){
    #####:  684:      item_target = 0;
        -:  685:    }
        -:  686:
    #####:  687:  }while ( command != '1' && command != '2' && command != '3' && command != 'c' );
        -:  688:
    #####:  689:  return item_target;
        -:  690:
        -:  691:}
        -:  692:
    #####:  693:void menu_use_items_effect(Player *******st, Player *******st2, Player *******st3, int item_number, int item_target){
        -:  694:  int recover_point, beforehp;
        -:  695:
        -:  696:  //傷薬
    #####:  697:  if ( item_number == 1 ){
    #####:  698:    recover_point = 50;
        -:  699:
    #####:  700:    if ( item_target == 1 ){
    #####:  701:      beforehp = (******st) -> hp;
    #####:  702:      (******st) -> hp += recover_point;
    #####:  703:      if ( (******st) -> hp >= (******st) -> maxhp ){
    #####:  704:        (******st) -> hp = (******st) -> maxhp;
        -:  705:      }
    #####:  706:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st) -> name, beforehp, (******st) -> maxhp, (******st) -> hp, (******st) -> maxhp);
    #####:  707:      printf("\n");
        -:  708:    }
    #####:  709:    else if ( item_target == 2 ){
    #####:  710:      beforehp = (******st2) -> hp;
    #####:  711:      (******st2) -> hp += recover_point;
    #####:  712:      if ( (******st2) -> hp >= (******st2) -> maxhp ){
    #####:  713:        (******st2) -> hp = (******st2) -> maxhp;
        -:  714:      }
    #####:  715:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st2) -> name, beforehp, (******st2) -> maxhp, (******st2) -> hp, (******st2) -> maxhp);
    #####:  716:      printf("\n");
        -:  717:    }
    #####:  718:    else if ( item_target == 3 ){
    #####:  719:      beforehp = (******st3) -> hp;
    #####:  720:      (******st3) -> hp += recover_point;
    #####:  721:      if ( (******st3) -> hp >= (******st3) -> maxhp ){
    #####:  722:        (******st3) -> hp = (******st3) -> maxhp;
        -:  723:      }
    #####:  724:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st3) -> name, beforehp, (******st3) -> maxhp, (******st3) -> hp, (******st3) -> maxhp);
    #####:  725:      printf("\n");
        -:  726:    }
        -:  727:  }
    #####:  728:  else if ( item_number == 2 ){
        -:  729:
    #####:  730:    if ( item_target == 1 ){
    #####:  731:      recover_point = (******st) -> maxhp * 0.25;
    #####:  732:      beforehp = (******st) -> hp;
    #####:  733:      (******st) -> hp += recover_point;
    #####:  734:      if ( (******st) -> hp >= (******st) -> maxhp ){
    #####:  735:        (******st) -> hp = (******st) -> maxhp;
        -:  736:      }
    #####:  737:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st) -> name, beforehp, (******st) -> maxhp, (******st) -> hp, (******st) -> maxhp);
    #####:  738:      printf("\n");
        -:  739:    }
    #####:  740:    else if ( item_target == 2 ){
    #####:  741:      recover_point = (******st2) -> maxhp * 0.25;
    #####:  742:      beforehp = (******st2) -> hp;
    #####:  743:      (******st2) -> hp += recover_point;
    #####:  744:      if ( (******st2) -> hp >= (******st2) -> maxhp ){
    #####:  745:        (******st2) -> hp = (******st2) -> maxhp;
        -:  746:      }
    #####:  747:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st2) -> name, beforehp, (******st2) -> maxhp, (******st2) -> hp, (******st2) -> maxhp);
    #####:  748:      printf("\n");
        -:  749:    }
    #####:  750:    else if ( item_target == 3 ){
    #####:  751:      recover_point = (******st3) -> maxhp * 0.25;
    #####:  752:      beforehp = (******st3) -> hp;
    #####:  753:      (******st3) -> hp += recover_point;
    #####:  754:      if ( (******st3) -> hp >= (******st3) -> maxhp ){
    #####:  755:        (******st3) -> hp = (******st3) -> maxhp;
        -:  756:      }
    #####:  757:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st3) -> name, beforehp, (******st3) -> maxhp, (******st3) -> hp, (******st3) -> maxhp);
        -:  758:    }
        -:  759:  }
    #####:  760:  else if ( item_number == 3 ){
    #####:  761:    if ( item_target == 1 ){
    #####:  762:      beforehp = (******st) -> hp;
    #####:  763:      (******st) -> hp = (******st) -> maxhp;
    #####:  764:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st) -> name, beforehp, (******st) -> maxhp, (******st) -> hp, (******st) -> maxhp);
        -:  765:    }
    #####:  766:    else if ( item_target == 2 ){
    #####:  767:      beforehp = (******st2) -> hp;
    #####:  768:      (******st) -> hp = (******st2) -> maxhp;
    #####:  769:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st2) -> name, beforehp, (******st2) -> maxhp, (******st2) -> hp, (******st2) -> maxhp);
        -:  770:    }
    #####:  771:    else if ( item_target == 3 ){
    #####:  772:      beforehp = (******st3) -> hp;
    #####:  773:      (******st) -> hp = (******st3) -> maxhp;
    #####:  774:      printf("%s HP:%d/%d >> HP:%d/%d\n", (******st3) -> name, beforehp, (******st3) -> maxhp, (******st3) -> hp, (******st3) -> maxhp);
        -:  775:    }
        -:  776:  }
    #####:  777:  else if ( item_number == 4 ){
    #####:  778:    if ( item_target == 1 ){
    #####:  779:      if ( (******st) -> badstatus == POISON ){
    #####:  780:        (******st) -> badstatus = GOOD;
    #####:  781:        printf("%s(POISON) >> %s(GOOD)\n", (******st) -> name, (******st) -> name);
        -:  782:      }
        -:  783:      else{
    #####:  784:        printf("無効果!\n");
        -:  785:      }
    #####:  786:      printf("\n");
        -:  787:    }
    #####:  788:    else if ( item_target == 2 ){
    #####:  789:      if ( (******st2) -> badstatus == POISON ){
    #####:  790:        (******st2) -> badstatus = GOOD;
    #####:  791:        printf("%s(POISON) >> %s(GOOD)\n", (******st2) -> name, (******st2) -> name);
        -:  792:      }
        -:  793:      else{
    #####:  794:        printf("無効果!\n");
        -:  795:      }
    #####:  796:      printf("\n");
        -:  797:    }
    #####:  798:    else if ( item_target == 3 ){
    #####:  799:      if ( (******st3) -> badstatus == POISON ){
    #####:  800:        (******st3) -> badstatus = GOOD;
    #####:  801:        printf("%s(POISON) >> %s(GOOD)\n", (******st3) -> name, (******st3) -> name);
        -:  802:      }
        -:  803:      else{
    #####:  804:        printf("無効果!\n");
        -:  805:      }
    #####:  806:      printf("\n");
        -:  807:    }
        -:  808:  }
    #####:  809:}
        -:  810:
    #####:  811:void menu_item_use(Player ******st, Player ******st2, Player ******st3, Items ******items, int command){
        -:  812:  int item_number, item_target;
        -:  813:
    #####:  814:  if ( command == '1' ){
    #####:  815:    item_number = 1;
    #####:  816:    item_target = menu_item_useselect(&st,&st2,&st3,&items);
        -:  817:    //printf("item_number:%d\n", item_number);
        -:  818:    //printf("item_target:%d\n", item_target);
        -:  819:
    #####:  820:    if ( item_target == 0 ){
        -:  821:      //nothing
    #####:  822:      return;
        -:  823:    }
    #####:  824:    else if ( item_target == 1 ){
    #####:  825:      (*****items) -> medicine--;
    #####:  826:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  827:      printf("\n");
    #####:  828:      return;
        -:  829:    }
    #####:  830:    else if ( item_target == 2 ){
    #####:  831:      (*****items) -> medicine--;
    #####:  832:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  833:      printf("\n");
    #####:  834:      return;
        -:  835:    }
        -:  836:    //item_target = 3
    #####:  837:    else if ( item_target == 3 ){
    #####:  838:      (*****items) -> medicine--;
    #####:  839:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  840:      printf("\n");
    #####:  841:      return;
        -:  842:    }
        -:  843:  }
    #####:  844:  else if ( command == '2' ){
    #####:  845:    item_number = 2;
    #####:  846:    item_target = menu_item_useselect(&st,&st2,&st3,&items);
        -:  847:    //printf("item_number:%d\n", item_number);
        -:  848:    //printf("item_target:%d\n", item_target);
        -:  849:
    #####:  850:    if ( item_target == 0 ){
        -:  851:      //nothing
    #####:  852:      return;
        -:  853:    }
    #####:  854:    else if ( item_target == 1 ){
    #####:  855:      (*****items) -> lifestone--;
    #####:  856:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  857:      printf("\n");
    #####:  858:      return;
        -:  859:    }
    #####:  860:    else if ( item_target == 2 ){
    #####:  861:      (*****items) -> lifestone--;
    #####:  862:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  863:      printf("\n");
    #####:  864:      return;
        -:  865:    }
        -:  866:    //item_target = 3
    #####:  867:    else if ( item_target == 3 ){
    #####:  868:      (*****items) -> lifestone--;
    #####:  869:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  870:      printf("\n");
    #####:  871:      return;
        -:  872:    }
        -:  873:  }
    #####:  874:  else if ( command == '3' ){
    #####:  875:    item_number = 3;
    #####:  876:    item_target = menu_item_useselect(&st,&st2,&st3,&items);
        -:  877:    //printf("item_number:%d\n", item_number);
        -:  878:    //printf("item_target:%d\n", item_target);
        -:  879:
    #####:  880:    if ( item_target == 0 ){
        -:  881:      //nothing
    #####:  882:      return;
        -:  883:    }
    #####:  884:    else if ( item_target == 1 ){
    #####:  885:      (*****items) -> bead--;
    #####:  886:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  887:      printf("\n");
    #####:  888:      return;
        -:  889:    }
    #####:  890:    else if ( item_target == 2 ){
    #####:  891:      (*****items) -> bead--;
    #####:  892:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  893:      printf("\n");
    #####:  894:      return;
        -:  895:    }
        -:  896:    //item_target = 3
    #####:  897:    else if ( item_target == 3 ){
    #####:  898:      (*****items) -> bead--;
    #####:  899:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  900:      printf("\n");
    #####:  901:      return;
        -:  902:    }
        -:  903:  }
    #####:  904:  else if ( command == '4' ){
    #####:  905:    item_number = 4;
    #####:  906:    item_target = menu_item_useselect(&st,&st2,&st3,&items);
        -:  907:    //printf("item_number:%d\n", item_number);
        -:  908:    //printf("item_target:%d\n", item_target);
        -:  909:
    #####:  910:    if ( item_target == 0 ){
        -:  911:      //nothing
    #####:  912:      return;
        -:  913:    }
    #####:  914:    else if ( item_target == 1 ){
    #####:  915:      (*****items) -> antipoison--;
    #####:  916:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  917:      printf("\n");
    #####:  918:      return;
        -:  919:    }
    #####:  920:    else if ( item_target == 2 ){
    #####:  921:      (*****items) -> antipoison--;
    #####:  922:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  923:      printf("\n");
    #####:  924:      return;
        -:  925:    }
        -:  926:    //item_target = 3
    #####:  927:    else if ( item_target == 3 ){
    #####:  928:      (*****items) -> antipoison--;
    #####:  929:      menu_use_items_effect(&st,&st2,&st3,item_number,item_target);
    #####:  930:      printf("\n");
    #####:  931:      return;
        -:  932:    }
        -:  933:  }
        -:  934:}
        -:  935:
    #####:  936:void item_menu(Player *****st, Player *****st2, Player *****st3, Items *****items){
        -:  937:  int command;
        -:  938:  int items_count;
        -:  939:
        -:  940:  //to check programs
        -:  941:  //(****items) -> medicine = 1;
        -:  942:  //(****items) -> lifestone = 1;
    #####:  943:  (****items) -> antipoison = 1;
        -:  944:
    #####:  945:  printf("<<<ITEM>>>\n");
        -:  946:  do{
    #####:  947:    items_count = 0;
    #####:  948:    if ( (****items) -> medicine > 0 ){
    #####:  949:      printf("1.傷薬%d個(味方１人のHPを50回復)\n", (****items) -> medicine);
    #####:  950:      items_count = 1;
        -:  951:    }
    #####:  952:    if ( (****items) -> lifestone > 0 ){
    #####:  953:      printf("2.魔石%d個(味方１人のHPを最大体力の25%%回復)\n", (****items) -> lifestone);
    #####:  954:      items_count = 1;
        -:  955:    }
    #####:  956:    if ( (****items) -> bead > 0 ){
    #####:  957:      printf("3.宝玉%d個(味方1人の体力を全回復)\n", (****items) -> bead);
    #####:  958:      items_count = 1;
        -:  959:    }
    #####:  960:    if ( (****items) -> antipoison > 0 ){
    #####:  961:      printf("4.アンタイポイズン%d個(味方1人のPOISONを回復)\n", (****items) -> antipoison);
    #####:  962:      items_count = 1;
        -:  963:    }
        -:  964:
    #####:  965:    if ( items_count == 0 ){
    #####:  966:      printf("ITEMを所持していません\n");
    #####:  967:      return;
        -:  968:    }
        -:  969:
    #####:  970:    printf("\n");
    #####:  971:    printf("使用しない場合はcを入力してください!\n");
        -:  972:
    #####:  973:    command =  _getch();
    #####:  974:    if ( command == '1' && (****items) -> medicine > 0 ){
    #####:  975:      menu_item_use(&st,&st2,&st3,&items, command);
        -:  976:    }
    #####:  977:    else if ( command == '2' && (****items) -> lifestone > 0 ){
    #####:  978:      menu_item_use(&st,&st2,&st3,&items, command);
        -:  979:    }
    #####:  980:    else if ( command == '3' && (****items) -> bead > 0 ){
    #####:  981:      menu_item_use(&st,&st2,&st3,&items, command);
        -:  982:    }
    #####:  983:    else if ( command == '4' && (****items) -> antipoison > 0 ){
    #####:  984:      menu_item_use(&st,&st2,&st3,&items,command);
        -:  985:    }
    #####:  986:    else if ( command == '' ){
    #####:  987:      printf("強制終了\n");
    #####:  988:      exit(EXIT_FAILURE);
        -:  989:    }
    #####:  990:  }while ( command != 'c' );
        -:  991:
        -:  992:}
        -:  993:
    #####:  994:void skill_menu(void){
        -:  995:
    #####:  996:  printf("skill\n");
    #####:  997:}
        -:  998:
    #####:  999:void equip_menu(void){
        -: 1000:
    #####: 1001:  printf("equip\n");
    #####: 1002:}
        -: 1003:
    #####: 1004:void set_menu(void){
        -: 1005:
    #####: 1006:  printf("set\n");
    #####: 1007:}
        -: 1008:
    #####: 1009:void status_menu(Player *****st, Player *****st2, Player *****st3){
        -: 1010:  int command;
        -: 1011:
    #####: 1012:  printf("\n");
    #####: 1013:  printf("<<<STATUS>>>\n");
        -: 1014:
        -: 1015:  do{
    #####: 1016:    printf("誰のSTATUSを表示しますか?(戻る場合はcを入力してください。)\n");
    #####: 1017:    printf("1:%s\n", (****st) -> name);
    #####: 1018:    printf("2:%s\n", (****st2) -> name);
    #####: 1019:    printf("3:%s\n", (****st3) -> name);
        -: 1020:
    #####: 1021:    command =  _getch();
        -: 1022:
    #####: 1023:    if ( command == '1' ){
    #####: 1024:      menu_player_status(&st);
        -: 1025:    }
    #####: 1026:    else if ( command == '2' ){
    #####: 1027:      menu_player_status(&st2);
        -: 1028:    }
    #####: 1029:    else if ( command == '3' ){
    #####: 1030:      menu_player_status(&st3);
        -: 1031:    }
    #####: 1032:    else if ( command == '' ){
    #####: 1033:      printf("強制終了\n");
    #####: 1034:      exit(EXIT_FAILURE);
        -: 1035:    }
        -: 1036:
    #####: 1037:  } while( command != 'c' );
        -: 1038:
    #####: 1039:}
        -: 1040:
    #####: 1041:void map_menu(Map ***map, Area *****area, int area_data_line, int area_data_len, int automap_area[area_data_line][area_data_len]){
        -: 1042:  int i, j, input;
        -: 1043:
    #####: 1044:  printf("P:現在地 *:歩いた場所\n");
    #####: 1045:  printf("<<<<<<<MAP>>>>>>\n");
    #####: 1046:  for ( j = 0; j < area_data_line; j++ ){
    #####: 1047:    printf("   ");
    #####: 1048:    for ( i = 0; i < area_data_len; i++ ){
    #####: 1049:      if ( automap_area[j][i] == -1 || automap_area[j][i] == 0 ){
    #####: 1050:        printf(" ");
        -: 1051:      }
    #####: 1052:      else if ( j == (**map) -> y && i == (**map) -> x ){
    #####: 1053:        printf("P");
        -: 1054:        //automap_area[j][i] = 'P';
        -: 1055:      }
    #####: 1056:      else if ( automap_area[j][i] == 1 ){
    #####: 1057:        printf("*");
        -: 1058:      }
        -: 1059:    }
    #####: 1060:    printf("\n");
        -: 1061:  }
        -: 1062:
    #####: 1063:  printf("\n");
        -: 1064:
        -: 1065:  do{
    #####: 1066:    printf("mapを閉じるにはcを入力してください。\n");
    #####: 1067:    input = _getch();
    #####: 1068:  }while( input != 'c' );
        -: 1069:
    #####: 1070:  printf("\n");
        -: 1071:
    #####: 1072:}
        -: 1073:
    #####: 1074:void display_menu(Player ****st, Player ****st2, Player ****st3, P_skill ****player_skill, P_skill ****player_skill2, P_skill ****player_skill3, Items ****items, Map **map, Area ****area, int area_data_line, int area_data_len, int automap_area[area_data_line][area_data_len]){
        -: 1075:  int menu_end, input, battle_display_condition_count;
        -: 1076:
        -: 1077:  do{
    #####: 1078:    printf("\n");
    #####: 1079:    printf("------MENU--------\n");
    #####: 1080:    printf("|  1:ITEM        |\n");
    #####: 1081:    printf("|  2:SKILL       |\n");
    #####: 1082:    printf("|  3:EQUIP       |\n");
    #####: 1083:    printf("|  4:SET         |\n");
    #####: 1084:    printf("|  5:STATUS      |\n");
    #####: 1085:    printf("|  6:MAP         |\n");
    #####: 1086:    printf("------------------\n");
    #####: 1087:    printf("\n");
    #####: 1088:    printf("GOLD:%d\n", (***st) -> gold);
    #####: 1089:    printf("\n");
    #####: 1090:    printf("      %3s                   %3s                   %3s\n", (***st) -> name, (***st2) -> name, (***st3) -> name);
    #####: 1091:    printf(" HP:%d/%d MP:%d/%d       HP:%d/%d MP:%d/%d          HP:%d/%d MP:%d/%d\n", (***st) -> hp, (***st) -> maxhp, (***st) -> mp, (***st) -> maxmp, (***st2) -> hp, (***st2) -> maxhp, (***st2) -> mp, (***st2) -> maxmp, (***st3) -> hp, (***st3) -> maxhp, (***st3) -> mp, (***st3) -> maxmp);
        -: 1092:
        -: 1093:    //HPをグラフィックに表現
    #####: 1094:    menu_hp_graphycal_display(&st,&st2,&st3);
        -: 1095:    //MPをグラフィックに表現
    #####: 1096:    menu_mp_graphycal_display(&st,&st2,&st3);
        -: 1097:
        -: 1098:    //partyの状態異常ステータスを表示
    #####: 1099:    battle_display_condition_count = 0;
    #####: 1100:    menu_display_condition(&st, battle_display_condition_count);
        -: 1101:
    #####: 1102:    battle_display_condition_count++;
    #####: 1103:    menu_display_condition(&st2, battle_display_condition_count);
        -: 1104:
    #####: 1105:    battle_display_condition_count++;
    #####: 1106:    menu_display_condition(&st3, battle_display_condition_count);
        -: 1107:
    #####: 1108:    battle_display_condition_count = 0;
    #####: 1109:    printf("\n");
        -: 1110:
    #####: 1111:    printf(" LV:%d", (***st) -> lv);
    #####: 1112:    printf("                  LV:%d", (***st2) -> lv);
    #####: 1113:    printf("                     LV:%d", (***st3) -> lv);
    #####: 1114:    printf("\n");
        -: 1115:
    #####: 1116:    printf("メニュー終了時はcを押してください!\n");
        -: 1117:
    #####: 1118:    input =  _getch();
    #####: 1119:    printf("入力：%c\n", input);
    #####: 1120:    if ( input == '1' ){
    #####: 1121:      item_menu(&st,&st2,&st3,&items);
        -: 1122:    }
    #####: 1123:    else if ( input == '2' ){
    #####: 1124:      skill_menu();
        -: 1125:    }
    #####: 1126:    else if ( input == '3' ){
    #####: 1127:      equip_menu();
        -: 1128:    }
    #####: 1129:    else if ( input == '4' ){
    #####: 1130:      set_menu();
        -: 1131:    }
    #####: 1132:    else if ( input == '5' ){
    #####: 1133:      status_menu(&st,&st2,&st3);
        -: 1134:    }
    #####: 1135:    else if ( input == '6' ){
    #####: 1136:      map_menu(&map,&area,area_data_line,area_data_len,automap_area);
        -: 1137:    }
    #####: 1138:    else if ( input == ''){   //ctrl + C
    #####: 1139:      printf("error!\n");
    #####: 1140:      exit(EXIT_FAILURE);
        -: 1141:    }
        -: 1142:
    #####: 1143:  }while( input != 'c' );
        -: 1144:
        -: 1145:  //printf("上下左右キーを押してダンジョン画面に戻ります\n");
        -: 1146:
    #####: 1147:}
